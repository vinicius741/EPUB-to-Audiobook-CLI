# Sample configuration for epub2audio
# Copy to config.toml and edit. Relative paths resolve from this file's folder.

[paths]
# Defaults relative to the config file location
epubs = "epubs"
out = "out"
cache = "cache"
logs = "logs"

[logging]
# Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
level = "INFO"
console_level = "INFO"

[tts]
# Default MLX engine for Apple Silicon
engine = "mlx"
model_id = "mlx-community/Qwen3-TTS-12Hz-1.7B-Base-4bit"

# Optional voice + language (engine-specific)
# voice = "default"
# lang_code = "en"
# ref_audio = "path/to/narrator.wav"
# ref_text = "Transcript of the reference audio"

# Playback characteristics
speed = 1.0
sample_rate = 24000
channels = 1

# Chunking + retry controls
max_chars = 1000
min_chars = 200
hard_max_chars = 1250
max_retries = 2
backoff_base = 0.5
backoff_jitter = 0.1
output_format = "wav"
chapter_workers = "auto"
chapter_parallelism = "thread"
unsafe_mlx_parallelism = false

[audio]
# Silence between chunks (milliseconds)
silence_ms = 250

# Loudness normalization (EBU R128)
normalize = true
target_lufs = -23.0
lra = 7.0
true_peak = -1.0
